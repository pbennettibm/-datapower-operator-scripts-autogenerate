top; configure terminal;

# configuration generated Mon Sep 26 13:15:14 2022; firmware version 330899

%if% available "domain-settings"

domain-settings
  admin-state enabled
  password-treatment none
exit

%endif%

%if% available "password-alias"

password-alias "LdapRMBPasswordMapAlias"
exit

password-alias "svcpw2PwMap"
exit

%endif%

crypto
  certificate "air4-ws-si.delta.com" "cert:///air4-ws-si.delta.com-sscert.pem" ignore-expiration
exit

crypto
  certificate "datapowervs01apisoaair4c-812EB57" "sharedcert:///datapowervs01apisoaair4c-812EB57-sscert.pem" ignore-expiration
exit

crypto
  certificate "DigiCertGlobalG2TLS_RSA_SHA256_2020CA1_23SEP_2030" "sharedcert:///DigiCertGlobalG2TLS_RSA_SHA256_2020CA1_23SEP_2030.cer" ignore-expiration
exit

crypto
  certificate "DigiCertGlobalRootG2_15JAN_2038" "sharedcert:///DigiCertGlobalRootG2_15JAN_2038.cer" ignore-expiration
exit

crypto
  certificate "Entrust_Certification_Authority_L1K_05DEC_2030" "sharedcert:///Entrust_Certification_Authority_L1K_05DEC_2030.cer" ignore-expiration
exit

crypto
  certificate "Entrust_Certification_Authority_L1M_15OCT_2030" "sharedcert:///Entrust_Certification_Authority_L1M_15OCT_2030.cer" ignore-expiration
exit

crypto
  certificate "Entrust_Root_Certification_Authority_G2_07DEC_2030" "sharedcert:///Entrust_Root_Certification_Authority_G2_07DEC_2030.cer" ignore-expiration
exit

crypto
  certificate "EntrustCertification_AuthorityL1K_05DEC_2030" "sharedcert:///EntrustCertification_AuthorityL1K_05DEC_2030.cer" ignore-expiration
exit

crypto
  certificate "EntrustRoot_Certification_AuthorityG2_07DEC_2030" "sharedcert:///EntrustRoot_Certification_AuthorityG2_07DEC_2030.cer" ignore-expiration
exit

crypto
  certificate "globalsignroot" "sharedcert:///globalsignroot.cer" ignore-expiration
exit

crypto
  certificate "google" "sharedcert:///google.cer" ignore-expiration
exit

crypto
  certificate "gtsca1c3" "sharedcert:///GTSCA1C3.cer" ignore-expiration
exit

crypto
  certificate "gtsroot1" "sharedcert:///gtsroot1.cer" ignore-expiration
exit

crypto
  certificate "SCO_SITESCOPE_VStest-0000573" "sharedcert:///SCO_SITESCOPE_VStest-0000573-sscert.pem" ignore-expiration
exit

crypto
  certificate "SCO_SITESCOPE_VStest_9May_2022" "sharedcert:///SCO_SITESCOPE_VStest_9May_2022.cer" ignore-expiration
exit

crypto
  certificate "soaws3-vs01.delta.com" "cert:///soaws3vs01_priv_key-sscert.pem" ignore-expiration
exit

crypto
  certificate "webservicesa-si.delta.com_04DEC_2022" "sharedcert:///webservicesa-si.delta.com_04DEC_2022.cer" ignore-expiration
exit

crypto
  certificate "webservicesa-si.delta.com_31JAN_2022" "sharedcert:///webservicesa-si.delta.com_31JAN_2022.cer" ignore-expiration
exit

crypto
  certificate "WebServicesFSH.delta.com-sscert" "cert:///soaws3vs01_priv_key-sscert.pem" ignore-expiration
exit

crypto
  key "air4-ws-si.delta.com" "cert:///air4-ws-si.delta.com-privkey.pem"
exit

crypto
  key "SoaSigningKey2012" "sharedcert:///soa_signature_si_2017.pem" password "delta777"
exit

crypto
  key "soaws3-vs01.delta.com" "cert:///soaws3vs01_priv_key-privkey.pem"
exit

crypto
  key "SSH-Key-DDweb22" "cert:///id_dsa_ddweb22"
exit

crypto
  key "WebServicesFSH.delta.com-privkey" "cert:///soaws3vs01_priv_key-privkey.pem"
exit

crypto
  idcred "SOAPDMZProxyIdentCredentials" "WebServicesFSH.delta.com-privkey" "WebServicesFSH.delta.com-sscert"
exit

crypto
  idcred "WebServicesFSHIdCred" "WebServicesFSH.delta.com-privkey" "WebServicesFSH.delta.com-sscert"
exit

crypto
  valcred "DpValidationCred"
    certificate "SCO_SITESCOPE_VStest_9May_2022"
    certificate "DigiCertGlobalG2TLS_RSA_SHA256_2020CA1_23SEP_2030"
    certificate "DigiCertGlobalRootG2_15JAN_2038"
    certificate "webservicesa-si.delta.com_31JAN_2022"
    certificate "webservicesa-si.delta.com_04DEC_2022"
    certificate "SCO_SITESCOPE_VStest-0000573"
    certificate "Entrust_Certification_Authority_L1K_05DEC_2030"
    certificate "Entrust_Root_Certification_Authority_G2_07DEC_2030"
    certificate "Entrust_Certification_Authority_L1M_15OCT_2030"
    certificate "datapowervs01apisoaair4c-812EB57"
    cert-validation-mode "legacy"
    use-crl "on"
    require-crl "off"
    crldp "ignore"
    explicit-policy "off"
    check-dates "off"
  exit
exit

crypto
  valcred "SOAPProxiesBackendValCred"
    certificate "SCO_SITESCOPE_VStest_9May_2022"
    certificate "DigiCertGlobalG2TLS_RSA_SHA256_2020CA1_23SEP_2030"
    certificate "DigiCertGlobalRootG2_15JAN_2038"
    certificate "webservicesa-si.delta.com_31JAN_2022"
    certificate "webservicesa-si.delta.com_04DEC_2022"
    certificate "SCO_SITESCOPE_VStest-0000573"
    certificate "Entrust_Certification_Authority_L1K_05DEC_2030"
    certificate "Entrust_Root_Certification_Authority_G2_07DEC_2030"
    certificate "Entrust_Certification_Authority_L1M_15OCT_2030"
    certificate "google"
    certificate "gtsca1c3"
    certificate "gtsroot1"
    certificate "globalsignroot"
    certificate "datapowervs01apisoaair4c-812EB57"
    cert-validation-mode "legacy"
    use-crl "on"
    require-crl "off"
    crldp "ignore"
    initial-policy-set "2.5.29.32.0"
    explicit-policy "off"
    check-dates "off"
  exit
exit

crypto
  profile "ProxySSLBackendCrypto" "%none%" option-string OpenSSL-default+Disable-SSLv2+Disable-SSLv3 ciphers "HIGH:MEDIUM:!aNULL:!eNULL:!RC4:@STRENGTH" clientcalist off
exit

crypto
  profile "WebServicesFSHCrypto" "WebServicesFSHIdCred" option-string OpenSSL-default+Disable-SSLv2+Disable-SSLv3 ciphers "HIGH:MEDIUM:!aNULL:!eNULL:!RC4:@STRENGTH" clientcalist off
exit

sslproxy "GenericMPG" "forward" "ProxySSLBackendCrypto" client-cache "on" client-sess-timeout "300" client-cache-size "100" permit-insecure-servers on

sslproxy "WebServicesFSHSSLProxy" "reverse" "WebServicesFSHCrypto" sess-timeout "300" cache-size "20"

crypto

%if% available "ssl-client"

ssl-client "GenericTlsClient"
  protocols "TLSv1d1+TLSv1d2"
  ciphers ECDHE_ECDSA_WITH_AES_256_GCM_SHA384
  ciphers ECDHE_RSA_WITH_AES_256_GCM_SHA384
  ciphers ECDHE_ECDSA_WITH_AES_256_CBC_SHA384
  ciphers ECDHE_RSA_WITH_AES_256_CBC_SHA384
  ciphers ECDHE_ECDSA_WITH_AES_256_CBC_SHA
  ciphers ECDHE_RSA_WITH_AES_256_CBC_SHA
  ciphers DHE_DSS_WITH_AES_256_GCM_SHA384
  ciphers DHE_RSA_WITH_AES_256_GCM_SHA384
  ciphers DHE_RSA_WITH_AES_256_CBC_SHA256
  ciphers DHE_DSS_WITH_AES_256_CBC_SHA256
  ciphers DHE_RSA_WITH_AES_256_CBC_SHA
  ciphers DHE_DSS_WITH_AES_256_CBC_SHA
  ciphers RSA_WITH_AES_256_GCM_SHA384
  ciphers RSA_WITH_AES_256_CBC_SHA256
  ciphers RSA_WITH_AES_256_CBC_SHA
  ciphers ECDHE_ECDSA_WITH_AES_128_GCM_SHA256
  ciphers ECDHE_RSA_WITH_AES_128_GCM_SHA256
  ciphers ECDHE_ECDSA_WITH_AES_128_CBC_SHA256
  ciphers ECDHE_RSA_WITH_AES_128_CBC_SHA256
  ciphers ECDHE_ECDSA_WITH_AES_128_CBC_SHA
  ciphers ECDHE_RSA_WITH_AES_128_CBC_SHA
  ciphers DHE_DSS_WITH_AES_128_GCM_SHA256
  ciphers DHE_RSA_WITH_AES_128_GCM_SHA256
  ciphers DHE_RSA_WITH_AES_128_CBC_SHA256
  ciphers DHE_DSS_WITH_AES_128_CBC_SHA256
  ciphers DHE_RSA_WITH_AES_128_CBC_SHA
  ciphers DHE_DSS_WITH_AES_128_CBC_SHA
  ciphers RSA_WITH_AES_128_GCM_SHA256
  ciphers RSA_WITH_AES_128_CBC_SHA256
  ciphers RSA_WITH_AES_128_CBC_SHA
  no validate-server-cert
  caching
  cache-timeout 300
  cache-size 100
  ssl-client-features "use-sni"
  curves secp521r1
  curves secp384r1
  curves secp256k1
  curves secp256r1
  use-custom-sni-hostname no
  no validate-hostname
  hostname-validation-flags ""
  no hostname-validation-fail
exit

exit

crypto

ssl-client "GoogleClient"
  protocols "TLSv1d1+TLSv1d2"
  ciphers ECDHE_ECDSA_WITH_AES_256_GCM_SHA384
  ciphers ECDHE_RSA_WITH_AES_256_GCM_SHA384
  ciphers ECDHE_ECDSA_WITH_AES_256_CBC_SHA384
  ciphers ECDHE_RSA_WITH_AES_256_CBC_SHA384
  ciphers ECDHE_ECDSA_WITH_AES_256_CBC_SHA
  ciphers ECDHE_RSA_WITH_AES_256_CBC_SHA
  ciphers DHE_DSS_WITH_AES_256_GCM_SHA384
  ciphers DHE_RSA_WITH_AES_256_GCM_SHA384
  ciphers DHE_RSA_WITH_AES_256_CBC_SHA256
  ciphers DHE_DSS_WITH_AES_256_CBC_SHA256
  ciphers DHE_RSA_WITH_AES_256_CBC_SHA
  ciphers DHE_DSS_WITH_AES_256_CBC_SHA
  ciphers RSA_WITH_AES_256_GCM_SHA384
  ciphers RSA_WITH_AES_256_CBC_SHA256
  ciphers RSA_WITH_AES_256_CBC_SHA
  ciphers ECDHE_ECDSA_WITH_AES_128_GCM_SHA256
  ciphers ECDHE_RSA_WITH_AES_128_GCM_SHA256
  ciphers ECDHE_ECDSA_WITH_AES_128_CBC_SHA256
  ciphers ECDHE_RSA_WITH_AES_128_CBC_SHA256
  ciphers ECDHE_ECDSA_WITH_AES_128_CBC_SHA
  ciphers ECDHE_RSA_WITH_AES_128_CBC_SHA
  ciphers DHE_DSS_WITH_AES_128_GCM_SHA256
  ciphers DHE_RSA_WITH_AES_128_GCM_SHA256
  ciphers DHE_RSA_WITH_AES_128_CBC_SHA256
  ciphers DHE_DSS_WITH_AES_128_CBC_SHA256
  ciphers DHE_RSA_WITH_AES_128_CBC_SHA
  ciphers DHE_DSS_WITH_AES_128_CBC_SHA
  ciphers RSA_WITH_AES_128_GCM_SHA256
  ciphers RSA_WITH_AES_128_CBC_SHA256
  ciphers RSA_WITH_AES_128_CBC_SHA
  ciphers ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA
  ciphers ECDHE_RSA_WITH_3DES_EDE_CBC_SHA
  ciphers DHE_RSA_WITH_3DES_EDE_CBC_SHA
  ciphers DHE_DSS_WITH_3DES_EDE_CBC_SHA
  ciphers RSA_WITH_3DES_EDE_CBC_SHA
  validate-server-cert
  valcred SOAPProxiesBackendValCred
  caching
  cache-timeout 300
  cache-size 100
  ssl-client-features "use-sni"
  curves secp521r1
  curves secp384r1
  curves secp256k1
  curves secp256r1
  use-custom-sni-hostname no
  no validate-hostname
  hostname-validation-flags ""
  no hostname-validation-fail
exit

exit

crypto

ssl-client "GoogleSSLClientProfile"
  protocols "TLSv1d2"
  ciphers ECDHE_ECDSA_WITH_AES_256_GCM_SHA384
  ciphers ECDHE_RSA_WITH_AES_256_GCM_SHA384
  ciphers ECDHE_ECDSA_WITH_AES_256_CBC_SHA384
  ciphers ECDHE_RSA_WITH_AES_256_CBC_SHA384
  ciphers ECDHE_ECDSA_WITH_AES_256_CBC_SHA
  ciphers ECDHE_RSA_WITH_AES_256_CBC_SHA
  ciphers DHE_DSS_WITH_AES_256_GCM_SHA384
  ciphers DHE_RSA_WITH_AES_256_GCM_SHA384
  ciphers DHE_RSA_WITH_AES_256_CBC_SHA256
  ciphers DHE_DSS_WITH_AES_256_CBC_SHA256
  ciphers DHE_RSA_WITH_AES_256_CBC_SHA
  ciphers DHE_DSS_WITH_AES_256_CBC_SHA
  ciphers RSA_WITH_AES_256_GCM_SHA384
  ciphers RSA_WITH_AES_256_CBC_SHA256
  ciphers RSA_WITH_AES_256_CBC_SHA
  ciphers ECDHE_ECDSA_WITH_AES_128_GCM_SHA256
  ciphers ECDHE_RSA_WITH_AES_128_GCM_SHA256
  ciphers ECDHE_ECDSA_WITH_AES_128_CBC_SHA256
  ciphers ECDHE_RSA_WITH_AES_128_CBC_SHA256
  ciphers ECDHE_ECDSA_WITH_AES_128_CBC_SHA
  ciphers ECDHE_RSA_WITH_AES_128_CBC_SHA
  ciphers DHE_DSS_WITH_AES_128_GCM_SHA256
  ciphers DHE_RSA_WITH_AES_128_GCM_SHA256
  ciphers DHE_RSA_WITH_AES_128_CBC_SHA256
  ciphers DHE_DSS_WITH_AES_128_CBC_SHA256
  ciphers DHE_RSA_WITH_AES_128_CBC_SHA
  ciphers DHE_DSS_WITH_AES_128_CBC_SHA
  ciphers RSA_WITH_AES_128_GCM_SHA256
  ciphers RSA_WITH_AES_128_CBC_SHA256
  ciphers RSA_WITH_AES_128_CBC_SHA
  ciphers ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA
  ciphers ECDHE_RSA_WITH_3DES_EDE_CBC_SHA
  ciphers DHE_RSA_WITH_3DES_EDE_CBC_SHA
  ciphers DHE_DSS_WITH_3DES_EDE_CBC_SHA
  ciphers RSA_WITH_3DES_EDE_CBC_SHA
  no validate-server-cert
  caching
  cache-timeout 300
  cache-size 100
  ssl-client-features "use-sni"
  curves secp521r1
  curves secp384r1
  curves secp256k1
  curves secp256r1
  use-custom-sni-hostname no
  validate-hostname
  hostname-validation-flags ""
  hostname-validation-fail
exit

%endif%

exit

crypto

%if% available "ssl-server"

ssl-server "SOAPProxiesFrontendSSLServerProfile"
  protocols "TLSv1d2"
  ciphers ECDHE_RSA_WITH_AES_256_GCM_SHA384
  ciphers ECDHE_RSA_WITH_AES_256_CBC_SHA384
  ciphers ECDHE_RSA_WITH_AES_256_CBC_SHA
  ciphers DHE_DSS_WITH_AES_256_GCM_SHA384
  ciphers DHE_RSA_WITH_AES_256_GCM_SHA384
  ciphers DHE_RSA_WITH_AES_256_CBC_SHA256
  ciphers DHE_DSS_WITH_AES_256_CBC_SHA256
  ciphers DHE_RSA_WITH_AES_256_CBC_SHA
  ciphers DHE_DSS_WITH_AES_256_CBC_SHA
  ciphers RSA_WITH_AES_256_GCM_SHA384
  ciphers RSA_WITH_AES_256_CBC_SHA256
  ciphers RSA_WITH_AES_256_CBC_SHA
  ciphers ECDHE_RSA_WITH_AES_128_GCM_SHA256
  ciphers ECDHE_RSA_WITH_AES_128_CBC_SHA256
  ciphers ECDHE_RSA_WITH_AES_128_CBC_SHA
  ciphers DHE_DSS_WITH_AES_128_GCM_SHA256
  ciphers DHE_RSA_WITH_AES_128_GCM_SHA256
  ciphers DHE_RSA_WITH_AES_128_CBC_SHA256
  ciphers DHE_DSS_WITH_AES_128_CBC_SHA256
  ciphers DHE_RSA_WITH_AES_128_CBC_SHA
  ciphers DHE_DSS_WITH_AES_128_CBC_SHA
  ciphers RSA_WITH_AES_128_GCM_SHA256
  ciphers RSA_WITH_AES_128_CBC_SHA256
  ciphers RSA_WITH_AES_128_CBC_SHA
  idcred WebServicesFSHIdCred
  no request-client-auth
  no require-client-auth
  validate-client-cert
  send-client-auth-ca-list
  caching
  cache-timeout 300
  cache-size 20
  ssl-options ""
  max-duration 60
  max-renegotiation-allowed 0
  no prohibit-resume-on-reneg
  no compression
  no allow-legacy-renegotiation
  prefer-server-ciphers
  curves secp521r1
  curves secp384r1
  curves secp256k1
  curves secp256r1
exit

%endif%

exit
logging event default-log "all" "error"
logging event default-log "mgmt" "notice"

%if% available "ldap-search-parameters"

ldap-search-parameters "Generic_LDAPServiceAcct"
  base-dn "DC=delta,DC=rl,DC=delta,DC=com"
  returned-attribute "dn"
  filter-prefix "(&(objectClass=user)(sAMAccountName="
  filter-suffix "))"
  scope subtree
exit

%endif%

user-agent "default"
  summary "Default User Agent"
  max-redirects 8
  timeout 300
exit

%if% available "urlmap"

urlmap "default-attempt-stream-all"
  match "*"
exit

%endif%

%if% available "compile-options"

compile-options "default-attempt-stream"
  xslt-version XSLT10
  no strict
  try-stream default-attempt-stream-all
  stack-size 524288
  wsi-validate ignore
  wsdl-validate-body strict
  wsdl-validate-headers lax
  wsdl-validate-faults strict
  no wsdl-wrapped-faults
  no wsdl-strict-soap-version
  no xacml-debug
exit

%endif%

%if% available "parse-settings"

parse-settings "default"
  document-type detect
  document-size 4194304
  nesting-depth 512
  width 4096
  name-length 256
  value-length 8192
  unique-prefixes 1024
  unique-namespaces 1024
  unique-names 1024
  number-length 128
exit

%endif%

%if% available "api-routing"

api-routing "default-api-route"
exit

%endif%

%if% available "api-rate-limit"

api-rate-limit "default-api-ratelimit"
exit

%endif%

%if% available "api-security"

api-security "default-api-security"
exit

%endif%

%if% available "api-execute"

api-execute "default-api-execute"
exit

%endif%

%if% available "api-result"

api-result "default-api-result"
  output "OUTPUT"
exit

%endif%

action "__default-accept-service-providers-filter-action__"
  reset
  type filter
  input "NULL"
  transform "store:///filter-accept-service-providers.xsl"
  parse-settings-result-type none
  transform-language none
  no charset-transparency
  named-inouts default
  ssl-client-type proxy
  no transactional
  soap-validation body
  sql-source-type static
  strip-signature
  no asynchronous
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "__default-accept-service-providers-results-action__"
  reset
  type results
  input "INPUT"
  parse-settings-result-type none
  transform-language none
  no charset-transparency
  named-inouts default
  ssl-client-type proxy
  no transactional
  soap-validation body
  sql-source-type static
  strip-signature
  no asynchronous
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "__dp-policy-call-action__"
  reset
  summary "Call the next policy."
  type call
  input "INPUT"
  parse-settings-result-type none
  transform-language none
  output "INPUT"
  no charset-transparency
  named-inouts default
  ssl-client-type proxy
  rule "var://context/policy/fw/call-rule"
  no transactional
  soap-validation body
  sql-source-type static
  strip-signature
  no asynchronous
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "__dp-policy-init-xform-action__"
  reset
  summary "Set up context vars and annotate map XML."
  type xform
  input "NULL"
  transform "store://dp/policy-enforce-init.xsl"
  parse-settings-result-type none
  transform-language none
  output "NULL"
  no charset-transparency
  named-inouts default
  ssl-client-type proxy
  no transactional
  soap-validation body
  sql-source-type static
  strip-signature
  no asynchronous
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "__dp-policy-results-action__"
  reset
  summary "Results action for our policy enforcement rules."
  type results
  input "INPUT"
  parse-settings-result-type none
  transform-language none
  no charset-transparency
  named-inouts default
  ssl-client-type proxy
  no transactional
  soap-validation body
  sql-source-type static
  strip-signature
  no asynchronous
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "__dp-policy-traverse-xform-action__"
  reset
  summary "Identify next policy by traversing the annotated map."
  type xform
  input "NULL"
  transform "store://dp/policy-enforce-traverse.xsl"
  parse-settings-result-type none
  transform-language none
  output "NULL"
  no charset-transparency
  named-inouts default
  ssl-client-type proxy
  no transactional
  soap-validation body
  sql-source-type static
  strip-signature
  no asynchronous
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Generic_rule_err_results_2"
  reset
  type results
  input "errorOut"
  parse-settings-result-type none
  transform-language none
  no charset-transparency
  named-inouts default
  ssl-client-type proxy
  output-type default
  no transactional
  soap-validation body
  sql-source-type static
  strip-signature
  no asynchronous
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Generic_rule_err_xform_0"
  reset
  type xform
  input "INPUT"
  transform "local:///xsl/on-error.xsl"
  parse-settings-result-type none
  transform-language none
  output "PIPE"
  no charset-transparency
  named-inouts default
  ssl-client-type proxy
  parameter "{http://www.datapower.com/param/config}valcredX509" "DpValidationCred"
  output-type default
  no transactional
  soap-validation body
  sql-source-type static
  strip-signature
  no asynchronous
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Generic_rule_err_xform_62"
  reset
  type xform
  input "errorOut"
  transform "var://context/GenericESB/err-log-xform1"
  parse-settings-result-type none
  transform-language none
  output "NULL"
  no charset-transparency
  named-inouts default
  ssl-client-type proxy
  output-type default
  no transactional
  soap-validation body
  sql-source-type static
  strip-signature
  no asynchronous
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Generic_rule_err_xform_63"
  reset
  type xform
  input "PIPE"
  transform "var://context/GenericESB/err-xform1"
  parse-settings-result-type none
  transform-language none
  output "errorOut"
  no charset-transparency
  named-inouts default
  ssl-client-type proxy
  output-type default
  no transactional
  soap-validation body
  sql-source-type static
  strip-signature
  no asynchronous
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Generic_rule_err_xform_65"
  reset
  type xform
  input "INPUT"
  transform "var://context/GenericESB/err-stat-xform1"
  parse-settings-result-type none
  transform-language none
  output "NULL"
  no charset-transparency
  named-inouts default
  ssl-client-type proxy
  output-type default
  no transactional
  soap-validation body
  sql-source-type static
  strip-signature
  no asynchronous
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Generic_rule_req_conditional_0"
  reset
  type conditional
  input "GenericESB"
  parse-settings-result-type none
  transform-language none
  no charset-transparency
  named-inouts default
  ssl-client-type proxy
  no transactional
  soap-validation body
  sql-source-type static
  strip-signature
  no asynchronous
  condition "/control/request-validate" "Generic_rule_req_conditional_0_refaction_validate_0"
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Generic_rule_req_conditional_0_refaction_validate_0"
  reset
  type validate
  input "INPUT"
  parse-settings-result-type none
  transform-language none
  output "NULL"
  no charset-transparency
  named-inouts default
  wsdl-url "var://context/GenericESB/request-validate"
  ssl-client-type proxy
  no transactional
  soap-validation body
  sql-source-type static
  strip-signature
  no asynchronous
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Generic_rule_req_conditional_1"
  reset
  type conditional
  input "GenericESB"
  parse-settings-result-type none
  transform-language none
  no charset-transparency
  named-inouts default
  ssl-client-type proxy
  no transactional
  soap-validation body
  sql-source-type static
  strip-signature
  no asynchronous
  condition "/control/aaa_type[.='aaaUserid']" "Generic_rule_req_conditional_1_refaction_aaa_0"
  condition "/control/aaa_type[.='aaaX509']" "Generic_rule_req_conditional_1_refaction_aaa_1"
  condition "/control/aaa_type[.='aaaReject']" "Generic_rule_req_conditional_1_refaction_xform_1"
  condition "/control/aaa_type[.='aaaSkip']" "Generic_rule_req_conditional_1_refaction_xform_2"
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Generic_rule_req_conditional_1_refaction_aaa_0"
  reset
  type aaa
  input "INPUT"
  parse-settings-result-type none
  transform-language none
  output "aaaOutput"
  no charset-transparency
  named-inouts default
  aaa-policy Generic_AAA_ldap
  ssl-client-type proxy
  no transactional
  soap-validation body
  sql-source-type static
  strip-signature
  no asynchronous
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Generic_rule_req_conditional_1_refaction_aaa_1"
  reset
  type aaa
  input "INPUT"
  parse-settings-result-type none
  transform-language none
  output "aaaOutput"
  no charset-transparency
  named-inouts default
  aaa-policy DpAllAAA
  ssl-client-type proxy
  no transactional
  soap-validation body
  sql-source-type static
  strip-signature
  no asynchronous
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Generic_rule_req_conditional_1_refaction_xform_1"
  reset
  type xform
  input "INPUT"
  transform "store:///filter-reject-all.xsl"
  parse-settings-result-type none
  transform-language none
  output "aaaOutput"
  no charset-transparency
  named-inouts default
  ssl-client-type proxy
  output-type default
  no transactional
  soap-validation body
  sql-source-type static
  strip-signature
  no asynchronous
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Generic_rule_req_conditional_1_refaction_xform_2"
  reset
  type xform
  input "INPUT"
  transform "store:///identity.xsl"
  parse-settings-result-type none
  transform-language none
  output "aaaOutput"
  no charset-transparency
  named-inouts default
  ssl-client-type proxy
  output-type default
  no transactional
  soap-validation body
  sql-source-type static
  strip-signature
  no asynchronous
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Generic_rule_req_conditional_2"
  reset
  type conditional
  input "GenericESB"
  parse-settings-result-type none
  transform-language none
  no charset-transparency
  named-inouts default
  ssl-client-type proxy
  no transactional
  soap-validation body
  sql-source-type static
  strip-signature
  no asynchronous
  condition "/control/request-sign" "Generic_rule_req_conditional_2_refaction_sign_0"
  condition "*" "Generic_rule_req_conditional_2_refaction_xform_0"
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Generic_rule_req_conditional_2_refaction_sign_0"
  reset
  type xform
  input "signInput"
  transform "store:///sign-wssec.xsl"
  parse-settings-result-type none
  transform-language none
  output "signOutput"
  no charset-transparency
  named-inouts default
  ssl-client-type proxy
  parameter "{http://www.datapower.com/param/config}include-mustunderstand" "off"
  parameter "{http://www.datapower.com/param/config}include-timestamp" "off"
  parameter "{http://www.datapower.com/param/config}keypair-cert" "SoaSigningChain2012"
  parameter "{http://www.datapower.com/param/config}keypair-key" "SoaSigningKey2012"
  output-type default
  no transactional
  soap-validation body
  sql-source-type static
  strip-signature
  no asynchronous
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Generic_rule_req_conditional_2_refaction_xform_0"
  reset
  type xform
  input "signInput"
  transform "store:///identity.xsl"
  parse-settings-result-type none
  transform-language none
  output "signOutput"
  no charset-transparency
  named-inouts default
  ssl-client-type proxy
  output-type default
  no transactional
  soap-validation body
  sql-source-type static
  strip-signature
  no asynchronous
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Generic_rule_req_on-error_0"
  reset
  type on-error
  parse-settings-result-type none
  transform-language none
  no charset-transparency
  named-inouts default
  ssl-client-type proxy
  error-mode continue
  error-input "NULL"
  error-output "OUTPUT"
  no transactional
  soap-validation body
  sql-source-type static
  strip-signature
  no asynchronous
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Generic_rule_req_on-error_1"
  reset
  type on-error
  parse-settings-result-type none
  transform-language none
  no charset-transparency
  named-inouts default
  ssl-client-type proxy
  error-mode abort
  rule "Generic_rule_err"
  no transactional
  soap-validation body
  sql-source-type static
  strip-signature
  no asynchronous
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Generic_rule_req_results_0"
  reset
  type results
  input "signOutput"
  parse-settings-result-type none
  transform-language none
  no charset-transparency
  named-inouts default
  ssl-client-type proxy
  output-type default
  no transactional
  soap-validation body
  sql-source-type static
  strip-signature
  no asynchronous
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Generic_rule_req_setvar_0"
  reset
  type setvar
  input "INPUT"
  parse-settings-result-type none
  transform-language none
  no charset-transparency
  named-inouts default
  variable "var://context/copyOfInput/_roottree"
  value "var://context/INPUT/_roottree"
  ssl-client-type proxy
  no transactional
  soap-validation body
  sql-source-type static
  strip-signature
  no asynchronous
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Generic_rule_req_xform_0"
  reset
  type xform
  input "INPUT"
  transform "local:///xsl/Generic_setup.xsl"
  parse-settings-result-type none
  transform-language none
  output "GenericESB"
  no charset-transparency
  named-inouts default
  ssl-client-type proxy
  parameter "{http://www.datapower.com/param/config}BackEndHost" "webservices-si.delta.com"
  output-type default
  no transactional
  soap-validation body
  sql-source-type static
  strip-signature
  no asynchronous
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Generic_rule_req_xform_1"
  reset
  type xform
  input "INPUT"
  transform "var://context/GenericESB/req-log-xform1"
  parse-settings-result-type none
  transform-language none
  output "NULL"
  no charset-transparency
  named-inouts default
  ssl-client-type proxy
  output-type default
  no transactional
  soap-validation body
  sql-source-type static
  strip-signature
  no asynchronous
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Generic_rule_req_xform_12"
  reset
  type xform
  input "INPUT"
  transform "var://context/GenericESB/req-stat-xform1"
  parse-settings-result-type none
  transform-language none
  output "NULL"
  no charset-transparency
  named-inouts default
  ssl-client-type proxy
  output-type default
  no transactional
  soap-validation body
  sql-source-type static
  strip-signature
  no asynchronous
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Generic_rule_req_xform_13"
  reset
  type xform
  input "PIPE"
  transform "var://context/GenericESB/req-soap-action-xform1"
  parse-settings-result-type none
  transform-language none
  output "PIPE"
  no charset-transparency
  named-inouts default
  ssl-client-type proxy
  output-type default
  no transactional
  soap-validation body
  sql-source-type static
  strip-signature
  no asynchronous
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Generic_rule_req_xform_15"
  reset
  type xform
  input "PIPE"
  transform "var://context/GenericESB/req-xform1"
  parse-settings-result-type none
  transform-language none
  output "signInput"
  no charset-transparency
  named-inouts default
  ssl-client-type proxy
  output-type default
  no transactional
  soap-validation body
  sql-source-type static
  strip-signature
  no asynchronous
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Generic_rule_req_xform_2"
  reset
  type xform
  input "aaaOutput"
  transform "var://context/GenericESB/req-after-aaa-xform1"
  parse-settings-result-type none
  transform-language none
  output "PIPE"
  no charset-transparency
  named-inouts default
  ssl-client-type proxy
  output-type default
  no transactional
  soap-validation body
  sql-source-type static
  strip-signature
  no asynchronous
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Generic_rule_req_xform_5"
  reset
  type xform
  input "signOutput"
  transform "var://context/GenericESB/req-log-xform2"
  parse-settings-result-type none
  transform-language none
  output "NULL"
  no charset-transparency
  named-inouts default
  ssl-client-type proxy
  output-type default
  no transactional
  soap-validation body
  sql-source-type static
  strip-signature
  no asynchronous
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Generic_rule_resp_results_1"
  reset
  type results
  input "soapOut"
  parse-settings-result-type none
  transform-language none
  no charset-transparency
  named-inouts default
  ssl-client-type proxy
  output-type default
  no transactional
  soap-validation body
  sql-source-type static
  strip-signature
  no asynchronous
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Generic_rule_resp_xform_0"
  reset
  type xform
  input "INPUT"
  transform "var://context/GenericESB/resp-log-xform1"
  parse-settings-result-type none
  transform-language none
  output "NULL"
  no charset-transparency
  named-inouts default
  ssl-client-type proxy
  output-type default
  no transactional
  soap-validation body
  sql-source-type static
  strip-signature
  no asynchronous
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Generic_rule_resp_xform_59"
  reset
  type xform
  input "INPUT"
  transform "var://context/GenericESB/resp-xform1"
  parse-settings-result-type none
  transform-language none
  output "soapOut"
  no charset-transparency
  named-inouts default
  ssl-client-type proxy
  output-type default
  no transactional
  soap-validation body
  sql-source-type static
  strip-signature
  no asynchronous
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Generic_rule_resp_xform_60"
  reset
  type xform
  input "soapOut"
  transform "var://context/GenericESB/req-log-xform2"
  parse-settings-result-type none
  transform-language none
  output "NULL"
  no charset-transparency
  named-inouts default
  ssl-client-type proxy
  output-type default
  no transactional
  soap-validation body
  sql-source-type static
  strip-signature
  no asynchronous
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Generic_rule_resp_xform_61"
  reset
  type xform
  input "INPUT"
  transform "var://context/GenericESB/resp-stat-xform1"
  parse-settings-result-type none
  transform-language none
  output "NULL"
  no charset-transparency
  named-inouts default
  ssl-client-type proxy
  output-type default
  no transactional
  soap-validation body
  sql-source-type static
  strip-signature
  no asynchronous
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Generic_rule_SOAP_conditional_0"
  reset
  type conditional
  input "GenericESB"
  parse-settings-result-type none
  transform-language none
  no charset-transparency
  named-inouts default
  ssl-client-type proxy
  no transactional
  soap-validation body
  sql-source-type static
  strip-signature
  no asynchronous
  condition "/control/resp-validate" "Generic_rule_SOAP_conditional_0_refaction_validate_0"
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Generic_rule_SOAP_conditional_0_refaction_validate_0"
  reset
  type validate
  input "INPUT"
  parse-settings-result-type none
  transform-language none
  output "NULL"
  no charset-transparency
  named-inouts default
  ssl-client-type proxy
  no transactional
  soap-validation body
  sql-source-type static
  strip-signature
  no asynchronous
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Generic_rule_SOAP_conditional_1"
  reset
  type conditional
  input "GenericESB"
  parse-settings-result-type none
  transform-language none
  no charset-transparency
  named-inouts default
  ssl-client-type proxy
  no transactional
  soap-validation body
  sql-source-type static
  strip-signature
  no asynchronous
  condition "/control/response-sign" "Generic_rule_SOAP_conditional_1_refaction_sign_0"
  condition "*" "Generic_rule_SOAP_conditional_1_refaction_xform_0"
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Generic_rule_SOAP_conditional_1_refaction_sign_0"
  reset
  type xform
  input "signInput"
  transform "store:///sign-wssec.xsl"
  parse-settings-result-type none
  transform-language none
  output "signOutput"
  no charset-transparency
  named-inouts default
  ssl-client-type proxy
  parameter "{http://www.datapower.com/param/config}keypair-cert" "SoaSigningChain2012"
  parameter "{http://www.datapower.com/param/config}keypair-key" "SoaSigningKey2012"
  output-type default
  no transactional
  soap-validation body
  sql-source-type static
  strip-signature
  no asynchronous
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Generic_rule_SOAP_conditional_1_refaction_xform_0"
  reset
  type xform
  input "signInput"
  transform "store:///identity.xsl"
  parse-settings-result-type none
  transform-language none
  output "signOutput"
  no charset-transparency
  named-inouts default
  ssl-client-type proxy
  output-type default
  no transactional
  soap-validation body
  sql-source-type static
  strip-signature
  no asynchronous
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Generic_rule_SOAP_Fault_conditional_0"
  reset
  type conditional
  input "GenericESB"
  parse-settings-result-type none
  transform-language none
  no charset-transparency
  named-inouts default
  ssl-client-type proxy
  no transactional
  soap-validation body
  sql-source-type static
  strip-signature
  no asynchronous
  condition "/control/fault-validate" "Generic_rule_SOAP_Fault_conditional_0_refaction_validate_0"
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Generic_rule_SOAP_Fault_conditional_0_refaction_validate_0"
  reset
  type validate
  input "INPUT"
  parse-settings-result-type none
  transform-language none
  output "NULL"
  no charset-transparency
  named-inouts default
  ssl-client-type proxy
  no transactional
  soap-validation body
  sql-source-type static
  strip-signature
  no asynchronous
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Generic_rule_SOAP_Fault_on-error_0"
  reset
  type on-error
  parse-settings-result-type none
  transform-language none
  no charset-transparency
  named-inouts default
  ssl-client-type proxy
  error-mode continue
  rule "Generic_rule_err"
  no transactional
  soap-validation body
  sql-source-type static
  strip-signature
  no asynchronous
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Generic_rule_SOAP_Fault_on-error_1"
  reset
  type on-error
  parse-settings-result-type none
  transform-language none
  no charset-transparency
  named-inouts default
  ssl-client-type proxy
  error-mode abort
  rule "Generic_rule_err"
  no transactional
  soap-validation body
  sql-source-type static
  strip-signature
  no asynchronous
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Generic_rule_SOAP_Fault_results_2"
  reset
  type results
  input "outputVar"
  parse-settings-result-type none
  transform-language none
  no charset-transparency
  named-inouts default
  ssl-client-type proxy
  output-type default
  no transactional
  soap-validation body
  sql-source-type static
  strip-signature
  no asynchronous
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Generic_rule_SOAP_Fault_xform_20"
  reset
  type xform
  input "INPUT"
  transform "var://context/GenericESB/fault-stat-xform1"
  parse-settings-result-type none
  transform-language none
  output "NULL"
  no charset-transparency
  named-inouts default
  ssl-client-type proxy
  output-type default
  no transactional
  soap-validation body
  sql-source-type static
  strip-signature
  no asynchronous
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Generic_rule_SOAP_Fault_xform_6"
  reset
  type xform
  input "INPUT"
  transform "var://context/GenericESB/fault-log-xform1"
  parse-settings-result-type none
  transform-language none
  output "NULL"
  no charset-transparency
  named-inouts default
  ssl-client-type proxy
  output-type default
  no transactional
  soap-validation body
  sql-source-type static
  strip-signature
  no asynchronous
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Generic_rule_SOAP_Fault_xform_7"
  reset
  type xform
  input "INPUT"
  transform "var://context/GenericESB/fault-xform1"
  parse-settings-result-type none
  transform-language none
  output "outputVar"
  no charset-transparency
  named-inouts default
  ssl-client-type proxy
  output-type default
  no transactional
  soap-validation body
  sql-source-type static
  strip-signature
  no asynchronous
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Generic_rule_SOAP_Fault_xform_8"
  reset
  type xform
  input "outputVar"
  transform "var://context/GenericESB/req-log-xform2"
  parse-settings-result-type none
  transform-language none
  output "NULL"
  no charset-transparency
  named-inouts default
  ssl-client-type proxy
  output-type default
  no transactional
  soap-validation body
  sql-source-type static
  strip-signature
  no asynchronous
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Generic_rule_SOAP_on-error_0"
  reset
  type on-error
  parse-settings-result-type none
  transform-language none
  no charset-transparency
  named-inouts default
  ssl-client-type proxy
  error-mode continue
  rule "Generic_rule_err"
  no transactional
  soap-validation body
  sql-source-type static
  strip-signature
  no asynchronous
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Generic_rule_SOAP_on-error_1"
  reset
  type on-error
  parse-settings-result-type none
  transform-language none
  no charset-transparency
  named-inouts default
  ssl-client-type proxy
  error-mode abort
  rule "Generic_rule_err"
  no transactional
  soap-validation body
  sql-source-type static
  strip-signature
  no asynchronous
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Generic_rule_SOAP_results_1"
  reset
  type results
  input "signOutput"
  parse-settings-result-type none
  transform-language none
  no charset-transparency
  named-inouts default
  ssl-client-type proxy
  output-type default
  no transactional
  soap-validation body
  sql-source-type static
  strip-signature
  no asynchronous
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Generic_rule_SOAP_xform_10"
  reset
  type xform
  input "INPUT"
  transform "var://context/GenericESB/soap-xform1"
  parse-settings-result-type none
  transform-language none
  output "signInput"
  no charset-transparency
  named-inouts default
  ssl-client-type proxy
  output-type default
  no transactional
  soap-validation body
  sql-source-type static
  strip-signature
  no asynchronous
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Generic_rule_SOAP_xform_11"
  reset
  type xform
  input "signOutput"
  transform "var://context/GenericESB/req-log-xform2"
  parse-settings-result-type none
  transform-language none
  output "NULL"
  no charset-transparency
  named-inouts default
  ssl-client-type proxy
  output-type default
  no transactional
  soap-validation body
  sql-source-type static
  strip-signature
  no asynchronous
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Generic_rule_SOAP_xform_24"
  reset
  type xform
  input "INPUT"
  transform "var://context/GenericESB/soap-stat-xform1"
  parse-settings-result-type none
  transform-language none
  output "NULL"
  no charset-transparency
  named-inouts default
  ssl-client-type proxy
  output-type default
  no transactional
  soap-validation body
  sql-source-type static
  strip-signature
  no asynchronous
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "Generic_rule_SOAP_xform_9"
  reset
  type xform
  input "INPUT"
  transform "var://context/GenericESB/soap-log-xform1"
  parse-settings-result-type none
  transform-language none
  output "NULL"
  no charset-transparency
  named-inouts default
  ssl-client-type proxy
  output-type default
  no transactional
  soap-validation body
  sql-source-type static
  strip-signature
  no asynchronous
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "GenericPolicy_rule_F5_seed_results_1"
  reset
  type results
  input "PIPE"
  parse-settings-result-type none
  transform-language none
  no charset-transparency
  named-inouts default
  ssl-client-type proxy
  output-type default
  no transactional
  soap-validation body
  sql-source-type static
  strip-signature
  no asynchronous
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "GenericPolicy_rule_F5_seed_setvar_0"
  reset
  type setvar
  input "INPUT"
  parse-settings-result-type none
  transform-language none
  no charset-transparency
  named-inouts default
  variable "var://service/mpgw/skip-backside"
  value "1"
  ssl-client-type proxy
  no transactional
  soap-validation body
  sql-source-type static
  strip-signature
  no asynchronous
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

action "GenericPolicy_rule_F5_seed_xform_17"
  reset
  type xform
  input "INPUT"
  transform "local:///xsl/F5seed.xsl"
  parse-settings-result-type none
  transform-language none
  output "PIPE"
  no charset-transparency
  named-inouts default
  ssl-client-type proxy
  output-type default
  no transactional
  soap-validation body
  sql-source-type static
  strip-signature
  no asynchronous
  results-mode first-available
  retry-count 0
  retry-interval 1000
  no multiple-outputs
  iterator-type XPATH
  timeout 0
  http-method GET
  http-method-limited POST
  http-method-limited2 POST
exit

rule "__default-accept-service-providers-request__"
  reset
  summary "Accept messages intended for known services, reject everything else."
    action "__default-accept-service-providers-filter-action__"
    action "__default-accept-service-providers-results-action__"
  type request-rule
  input-filter none
  output-filter none
  no non-xml-processing
  no unprocessed
exit

rule "__default-accept-service-providers-response__"
  reset
  summary "Accept responses received from known services."
    action "__default-accept-service-providers-results-action__"
  type response-rule
  input-filter none
  output-filter none
  no non-xml-processing
  no unprocessed
exit

rule "__dp-policy-begin__"
  reset
  summary "Initiate policy enforcement by annotating policy and determining first policy to enforce."
    action "__dp-policy-init-xform-action__"
    action "__dp-policy-traverse-xform-action__"
    action "__dp-policy-call-action__"
    action "__dp-policy-results-action__"
  type rule
  input-filter none
  output-filter none
  no non-xml-processing
  no unprocessed
exit

rule "Generic_rule_err"
  reset
    action "Generic_rule_err_xform_65"
    action "Generic_rule_err_xform_0"
    action "Generic_rule_err_xform_63"
    action "Generic_rule_err_xform_62"
    action "Generic_rule_err_results_2"
  type error-rule
  input-filter none
  output-filter none
  no non-xml-processing
  no unprocessed
exit

rule "Generic_rule_req"
  reset
    action "Generic_rule_req_setvar_0"
    action "Generic_rule_req_xform_0"
    action "Generic_rule_req_xform_1"
    action "Generic_rule_req_xform_12"
    action "Generic_rule_req_on-error_0"
    action "Generic_rule_req_conditional_0"
    action "Generic_rule_req_on-error_1"
    action "Generic_rule_req_conditional_1"
    action "Generic_rule_req_xform_2"
    action "Generic_rule_req_xform_13"
    action "Generic_rule_req_xform_15"
    action "Generic_rule_req_conditional_2"
    action "Generic_rule_req_xform_5"
    action "Generic_rule_req_results_0"
  type request-rule
  input-filter none
  output-filter none
  no non-xml-processing
  no unprocessed
exit

rule "Generic_rule_resp"
  reset
    action "Generic_rule_resp_xform_0"
    action "Generic_rule_resp_xform_61"
    action "Generic_rule_resp_xform_59"
    action "Generic_rule_resp_xform_60"
    action "Generic_rule_resp_results_1"
  type response-rule
  input-filter none
  output-filter none
  non-xml-processing
  no unprocessed
exit

rule "Generic_rule_SOAP"
  reset
    action "Generic_rule_SOAP_xform_9"
    action "Generic_rule_SOAP_xform_24"
    action "Generic_rule_SOAP_on-error_0"
    action "Generic_rule_SOAP_conditional_0"
    action "Generic_rule_SOAP_on-error_1"
    action "Generic_rule_SOAP_xform_10"
    action "Generic_rule_SOAP_conditional_1"
    action "Generic_rule_SOAP_xform_11"
    action "Generic_rule_SOAP_results_1"
  type response-rule
  input-filter none
  output-filter none
  non-xml-processing
  no unprocessed
exit

rule "Generic_rule_SOAP_Fault"
  reset
    action "Generic_rule_SOAP_Fault_xform_6"
    action "Generic_rule_SOAP_Fault_xform_20"
    action "Generic_rule_SOAP_Fault_on-error_0"
    action "Generic_rule_SOAP_Fault_conditional_0"
    action "Generic_rule_SOAP_Fault_on-error_1"
    action "Generic_rule_SOAP_Fault_xform_7"
    action "Generic_rule_SOAP_Fault_xform_8"
    action "Generic_rule_SOAP_Fault_results_2"
  type response-rule
  input-filter none
  output-filter none
  non-xml-processing
  no unprocessed
exit

rule "GenericPolicy_rule_F5_seed"
  reset
    action "GenericPolicy_rule_F5_seed_setvar_0"
    action "GenericPolicy_rule_F5_seed_xform_17"
    action "GenericPolicy_rule_F5_seed_results_1"
  type rule
  input-filter none
  output-filter none
  non-xml-processing
  no unprocessed
exit

matching "F5SeedMatch"
  urlmatch ".*shoppoc.*"
  urlmatch ".*HealthCheckHeader.*"
  match-with-pcre
  combine-with-or
exit

matching "Generic_SoapFaultMatch"
 xpathmatch "/*[local-name()='Envelope']/*[local-name()='Body']/*[local-name()='Fault']"
  no match-with-pcre
  no combine-with-or
exit

matching "Generic_SoapMatch"
 xpathmatch "/*[local-name()='Envelope']"
  no match-with-pcre
  no combine-with-or
exit

matching "GenericMatchAnyUrl"
  urlmatch "*"
  no match-with-pcre
  no combine-with-or
exit

stylepolicy "default"
  reset
  summary "Default Processing Policy"
  filter "store:///filter-reject-all.xsl"
  xsldefault "store:///identity.xsl"
  xquerydefault "store:///reject-all-json.xq"
exit

stylepolicy "GenericPolicy"
  reset
  filter "store:///filter-reject-all.xsl"
  xsldefault "store:///identity.xsl"
  xquerydefault "store:///reject-all-json.xq"
  match "F5SeedMatch" "GenericPolicy_rule_F5_seed"
  match "GenericMatchAnyUrl" "Generic_rule_req"
  match "Generic_SoapFaultMatch" "Generic_rule_SOAP_Fault"
  match "Generic_SoapMatch" "Generic_rule_SOAP"
  match "GenericMatchAnyUrl" "Generic_rule_resp"
  match "GenericMatchAnyUrl" "Generic_rule_err"
exit

%if% available "metadata"

metadata "ftp-usercert-metadata"
  meta-item "variable" "dn" "var://context/INPUT/ftp/tls/client-subject-dn"
  meta-item "variable" "issuer" "var://context/INPUT/ftp/tls/client-issuer-dn"
  meta-item "variable" "serial" "var://context/INPUT/ftp/tls/client-serial-number"
exit

metadata "ftp-username-metadata"
  meta-item "variable" "dn" "var://context/INPUT/ftp/tls/client-subject-dn"
  meta-item "variable" "issuer" "var://context/INPUT/ftp/tls/client-issuer-dn"
  meta-item "variable" "password" "var://context/INPUT/ftp/password"
  meta-item "variable" "serial" "var://context/INPUT/ftp/tls/client-serial-number"
  meta-item "variable" "username" "var://context/INPUT/ftp/username"
exit

metadata "oauth-scope-metadata"
  meta-item "variable" "scope" "var://context/INPUT/oauth/verified-scope"
exit

metadata "ssh-password-metadata"
  meta-item "variable" "password" "var://context/INPUT/ssh/password"
  meta-item "variable" "publickey" "var://context/INPUT/ssh/publickey"
  meta-item "variable" "username" "var://context/INPUT/ssh/username"
exit

%endif%

xmlmgr "CacheEnabled"
xsl cache size "CacheEnabled" "256"
xsl checksummed cache CacheEnabled
no tx-warn "CacheEnabled"
memoization "CacheEnabled"

xml parser limits "CacheEnabled"
 bytes-scanned 6291456
 element-depth 512
 attribute-count 256
 max-node-size 33554432
 external-references ignore
 max-prefixes 1024
 max-namespaces 1024
 max-local-names 60000
exit

documentcache "CacheEnabled"
 no policy
 maxdocs "25000"
 size "10000"
 max-writes "32768"
exit
no xml validate "CacheEnabled" *

xml-manager "CacheEnabled"
  user-agent "default"
exit

xmlmgr "default"
xsl cache size "default" "256"
xsl checksummed cache default
no tx-warn "default"
memoization "default"

xml parser limits "default"
 bytes-scanned 4194304
 element-depth 512
 attribute-count 128
 max-node-size 33554432
 forbid-external-references
 external-references forbid
 max-prefixes 1024
 max-namespaces 1024
 max-local-names 60000
exit

documentcache "default"
 no policy
 maxdocs "5000"
 size "0"
 max-writes "32768"
exit
no xml validate "default" *

xml-manager "default"
  summary "Default XML-Manager"
  user-agent "default"
exit

xmlmgr "default-attempt-stream"
xslconfig "default-attempt-stream" "default-attempt-stream"
xsl cache size "default-attempt-stream" "256"
xsl checksummed cache default-attempt-stream
no tx-warn "default-attempt-stream"
memoization "default-attempt-stream"

xml parser limits "default-attempt-stream"
 bytes-scanned 268435456
 element-depth 512
 attribute-count 128
 max-node-size 268435456
 forbid-external-references
 external-references forbid
 max-prefixes 1024
 max-namespaces 1024
 max-local-names 60000
exit

documentcache "default-attempt-stream"
 no policy
 maxdocs "5000"
 size "0"
 max-writes "32768"
exit
no xml validate "default-attempt-stream" *

xml-manager "default-attempt-stream"
  summary "Default Streaming XML-Manager"
  user-agent "default"
exit

xmlmgr "default-wsrr"
xsl cache size "default-wsrr" "256"
xsl checksummed cache default-wsrr
no tx-warn "default-wsrr"
memoization "default-wsrr"

xml parser limits "default-wsrr"
 bytes-scanned 4194304
 element-depth 512
 attribute-count 128
 max-node-size 33554432
 forbid-external-references
 external-references forbid
 max-prefixes 1024
 max-namespaces 1024
 max-local-names 60000
exit

documentcache "default-wsrr"
 no policy
 maxdocs "5000"
 size "0"
 max-writes "32768"
exit
no xml validate "default-wsrr" *

xml-manager "default-wsrr"
  summary "WSRR XML-Manager"
  user-agent "default"
exit

%if% available "aaapolicy"

aaapolicy "DpAllAAA"
 extract-identity  "wssec-binary-token" "" "" "" "" "login" "off" "" "off" "" "xmlfile" "" "" "" "" "" "proxy" "" "" "" ""
 authenticate validate-signer "" "" "" "" "absolute" "3" "" "" "" "" "" "on" "" "" "1.1" "cn=" "" "" "" "" "" "DpValidationCred" "" "" "" "" "" "userPassword" "LTPA2" "" "" "" "" "" "off" "" "1.2" "off" "" "off" "32" "off" "32" "off" "off" "" "" "" "" "0" "off" "60" "proxy" "" "" "" "webagent" "" "" "" "default"
 map-credentials none "" "" ""
 extract-resource  "target-url" "" ""
 map-resource none "" "" "WebSEAL" "" ""
 authorize custom "local:///xsl/authorizeX509_OU.xsl" "" "" "" "" "" "any" "" "" "absolute" "3" "" "" "" "1.1" "" "" "" "member" "" "" "subtree" "(objectClass=*)" "2.0" "deny-biased" "on" "" "" "custom" "" "" "" "off" "" "T" "" "off" "" "r" "" "0" "tfim" "" "off" "on" "off" "off" "60" "proxy" "" "" "webagent" "" "" "" "default"
 post-process  "off" "" "off" "XS" "" "off" "" "" "" "off" "on" "0" "off" "2.0" "off" "" "" "off" "Digest" "0" "0" "on" "off" "LTPA2" "600" "" "" "" "off" "http://docs.oasis-open.org/wss/oasis-wss-kerberos-token-profile-1.1#GSS_Kerberosv5_AP_REQ" "off" "" "off" "" "off" "" "off" "1000" "off" "all" "CallTFIM" "hmac-sha1" "sha1" "off" "random" "" "0" "off" "off" "off" "off" "" "off" "assertion" "" "wssec-replace" "authentication+attribute" "bearer" "on" "" "" "" "off" "off" "off" "" "0" "AllHTTP" "" "on" "off" "iv-creds" "0" "off" "" "off" "mc-output" "" "" "" "" "as-is-string" "" "" "proxy" "" "" "off" ""
  saml-sign-hash sha1
  saml-sign-alg rsa
  log-allowed
  log-allowed-level info
  log-rejected
  log-rejected-level warn
  no ping-identity-compatibility
  dos-valve 3
  ldap-version v2
  enforce-actor-role
  dyn-config none
exit

aaapolicy "Generic_AAA_ldap"
 extract-identity  "http-basic-auth+wssec-username" "" "" "" "" "login" "off" "" "off" "" "xmlfile" "" "" "" "" "" "proxy" "" "" "" ""
 authenticate ldap "" "LDAP-PRD.delta.com" "389" "" "absolute" "3" "" "" "" "" "" "on" "" "" "1.1" "cn=" "" "" "" "" "" "" "" "" "" "CN=svcdpw,OU=svcacct,DC=delta,DC=rl,DC=delta,DC=com" "SVC2jT4d" "userPassword" "LTPA2" "" "" "" "" "" "off" "" "1.2" "on" "Generic_LDAPServiceAcct" "off" "32" "off" "32" "off" "off" "" "" "" "" "0" "off" "60" "proxy" "" "" "" "webagent" "" "" "" "default"
 map-credentials none "" "" ""
 extract-resource  "original-url" "" ""
 map-resource none "" "" "WebSEAL" "" ""
 authorize custom "local:///xsl/authorize.xsl" "" "" "" "" "" "any" "" "" "absolute" "3" "" "" "" "1.1" "" "" "" "member" "" "" "subtree" "(objectClass=*)" "2.0" "deny-biased" "on" "" "" "custom" "" "" "" "off" "" "T" "" "off" "" "r" "" "0" "tfim" "" "off" "on" "off" "off" "60" "proxy" "" "" "webagent" "" "" "" "default"
 post-process  "off" "" "off" "XS" "" "off" "" "" "" "off" "on" "0" "off" "2.0" "off" "" "" "off" "Digest" "0" "0" "on" "off" "LTPA2" "600" "" "" "" "off" "http://docs.oasis-open.org/wss/oasis-wss-kerberos-token-profile-1.1#GSS_Kerberosv5_AP_REQ" "off" "" "off" "" "off" "" "off" "1000" "off" "all" "CallTFIM" "hmac-sha1" "sha1" "off" "random" "" "0" "off" "off" "off" "off" "" "off" "assertion" "" "wssec-replace" "authentication+attribute" "bearer" "on" "" "" "" "off" "off" "off" "" "0" "AllHTTP" "" "on" "off" "iv-creds" "0" "off" "" "off" "mc-output" "" "" "" "" "as-is-string" "" "" "proxy" "" "" "off" ""
  saml-sign-hash sha1
  saml-sign-alg rsa
  log-allowed
  log-allowed-level info
  log-rejected
  log-rejected-level warn
  no ping-identity-compatibility
  dos-valve 3
  ldap-version v2
  enforce-actor-role
  dyn-config none
exit

%endif%

%if% available "source-https"

source-https "GenericHttpsFSH"
  local-address 0.0.0.0
  port 7016
  http-client-version HTTP/1.1
  allowed-features "HTTP-1.0+HTTP-1.1+POST+PUT+HEAD+QueryString+FragmentIdentifiers"
  persistent-connections
  max-persistent-reuse 0
  no compression
  no websocket-upgrade
  websocket-idle-timeout 0
  max-url-len 16384
  max-total-header-len 128000
  max-header-count 0
  max-header-name-len 0
  max-header-value-len 0
  max-querystring-len 0
  credential-charset protocol
  ssl-config-type server
  ssl-server SOAPProxiesFrontendSSLServerProfile
  http2-max-streams 100
  http2-max-frame 16384
  no http2-stream-header
  chunked-encoding
exit

%endif%

%if% available "source-http"

source-http "GenericHttpFSH"
  local-address 0.0.0.0
  port 7015
  http-client-version HTTP/1.1
  allowed-features "HTTP-1.0+HTTP-1.1+POST+PUT+HEAD+QueryString+FragmentIdentifiers"
  persistent-connections
  max-persistent-reuse 0
  no compression
  no websocket-upgrade
  websocket-idle-timeout 0
  max-url-len 16384
  max-total-header-len 128000
  max-header-count 0
  max-header-name-len 0
  max-header-value-len 0
  max-querystring-len 0
  credential-charset protocol
  http2-max-streams 100
  http2-max-frame 16384
  no http2-stream-header
  chunked-encoding
exit

%endif%

%if% available "wsm-stylepolicy"

wsm-stylepolicy "default"
  summary "Default Processing Policy"
  filter "store:///filter-reject-all.xsl"
  xsldefault "store:///identity.xsl"
exit

%endif%

%if% available "api-client-identification"

api-client-identification "default-api-client-identification"
exit

%endif%

%if% available "api-cors"

api-cors "default-api-cors"
exit

%endif%

%if% available "assembly-rate-limit"

assembly-rate-limit "default-api-ratelimit"
  title "default-ratelimit"
  correlation-path "$.assembly.execute[3]"
  source plan-default
exit

%endif%

%if% available "api-rule"

api-rule "default-api-error-rule"
  action default-api-result
exit

api-rule "default-api-rule"
  action default-api-route
  action default-api-cors
  action default-api-client-identification
  action default-api-ratelimit
  action default-api-security
  action default-api-execute
  action default-api-result
exit

api-rule "default-preflow-rule"
  action default-api-cors
  action default-api-client-identification
  action default-api-ratelimit
  action default-api-security
exit

%endif%

%if% available "gateway-peering"

gateway-peering "default-gateway-peering"
  admin-state disabled
  local-address 0.0.0.0
  local-port 16380
  monitor-port 26380
  no enable-peer-group
  priority 100
  enable-ssl
  persistence memory
  local-directory local:///
  log-level internal
exit

%endif%

%if% available "gateway-peering-manager"

gateway-peering-manager
  admin-state disabled
  apic-gw-service default-gateway-peering
  rate-limit default-gateway-peering
  subscription default-gateway-peering
  ratelimit-module default-gateway-peering
exit

%endif%

no statistics

%if% available "apic-gw-service"

apic-gw-service
  admin-state disabled
  local-address 0.0.0.0
  local-port 3000
  api-gw-address 0.0.0.0
  api-gw-port 9443
  gateway-peering default-gateway-peering
  gateway-peering-manager default
  v5-compatibility-mode
  slm-mode autounicast
  no database-mode
  no log-strip-non-ascii
exit

%endif%

%if% available "apiprobe-settings"

apiprobe-settings
  admin-state disabled
  max-records 1000
  expiration 60
  gateway-peering default-gateway-peering
exit

%endif%

%if% available "api-security-token-manager"

api-security-token-manager
  admin-state disabled
  gateway-peering default-gateway-peering
exit

%endif%

%if% available "control-list"

control-list "default-accept-all"
  type blacklist
  no case-insensitive
exit

control-list "default-reject-all"
  type whitelist
  no case-insensitive
exit

%endif%

crypto

%if% available "sshdomainclientprofile"

sshdomainclientprofile
  no ciphers
  no kex-alg
  no mac-alg
  admin-state enabled
  ciphers CHACHA20-POLY1305_AT_OPENSSH.COM
  ciphers AES128-CTR
  ciphers AES192-CTR
  ciphers AES256-CTR
  ciphers AES128-GCM_AT_OPENSSH.COM
  ciphers AES256-GCM_AT_OPENSSH.COM
  ciphers ARCFOUR256
  ciphers ARCFOUR128
  ciphers AES128-CBC
  ciphers 3DES-CBC
  ciphers BLOWFISH-CBC
  ciphers CAST128-CBC
  ciphers AES192-CBC
  ciphers AES256-CBC
  ciphers ARCFOUR
  ciphers RIJNDAEL-CBC_AT_LYSATOR.LIU.SE
  kex-alg CURVE25519-SHA256_AT_LIBSSH.ORG
  kex-alg ECDH-SHA2-NISTP256
  kex-alg ECDH-SHA2-NISTP384
  kex-alg ECDH-SHA2-NISTP521
  kex-alg DIFFIE-HELLMAN-GROUP-EXCHANGE-SHA256
  kex-alg DIFFIE-HELLMAN-GROUP14-SHA1
  mac-alg UMAC-64-ETM_AT_OPENSSH.COM
  mac-alg UMAC-128-ETM_AT_OPENSSH.COM
  mac-alg HMAC-SHA2-256-ETM_AT_OPENSSH.COM
  mac-alg HMAC-SHA2-512-ETM_AT_OPENSSH.COM
  mac-alg HMAC-SHA1-ETM_AT_OPENSSH.COM
  mac-alg UMAC-64_AT_OPENSSH.COM
  mac-alg UMAC-128_AT_OPENSSH.COM
  mac-alg HMAC-SHA2-256
  mac-alg HMAC-SHA2-512
  mac-alg HMAC-SHA1
  enable-legacy-kex no
exit

%endif%

exit

crypto

%if% available "sshserverprofile"

sshserverprofile
  no ciphers
  no kex-alg
  no mac-alg
  admin-state enabled
  ciphers CHACHA20-POLY1305_AT_OPENSSH.COM
  ciphers AES128-CTR
  ciphers AES192-CTR
  ciphers AES256-CTR
  ciphers AES128-GCM_AT_OPENSSH.COM
  ciphers AES256-GCM_AT_OPENSSH.COM
  ciphers ARCFOUR256
  ciphers ARCFOUR128
  ciphers AES128-CBC
  ciphers 3DES-CBC
  ciphers BLOWFISH-CBC
  ciphers CAST128-CBC
  ciphers AES192-CBC
  ciphers AES256-CBC
  ciphers ARCFOUR
  ciphers RIJNDAEL-CBC_AT_LYSATOR.LIU.SE
  kex-alg CURVE25519-SHA256_AT_LIBSSH.ORG
  kex-alg ECDH-SHA2-NISTP256
  kex-alg ECDH-SHA2-NISTP384
  kex-alg ECDH-SHA2-NISTP521
  kex-alg DIFFIE-HELLMAN-GROUP-EXCHANGE-SHA256
  kex-alg DIFFIE-HELLMAN-GROUP14-SHA1
  mac-alg UMAC-64-ETM_AT_OPENSSH.COM
  mac-alg UMAC-128-ETM_AT_OPENSSH.COM
  mac-alg HMAC-SHA2-256-ETM_AT_OPENSSH.COM
  mac-alg HMAC-SHA2-512-ETM_AT_OPENSSH.COM
  mac-alg HMAC-SHA1-ETM_AT_OPENSSH.COM
  mac-alg UMAC-64_AT_OPENSSH.COM
  mac-alg UMAC-128_AT_OPENSSH.COM
  mac-alg HMAC-SHA2-256
  mac-alg HMAC-SHA2-512
  mac-alg HMAC-SHA1
  enable-legacy-kex no
  send-preauth-msg no
exit

%endif%

exit

%if% available "policy-attachments"

policy-attachments "GenericMPG"
  enforcement-mode enforce
  policy-references
  sla-enforcement-mode allow-if-no-sla
exit

%endif%

%if% available "mpgw"

mpgw "GenericMPG"
  no policy-parameters
  priority normal
  front-protocol GenericHttpFSH
  front-protocol GenericHttpsFSH
  xml-manager CacheEnabled
  ssl-client-type proxy
  ssl GenericMPG
  default-param-namespace "http://www.datapower.com/param/config"
  query-param-namespace "http://www.datapower.com/param/query"
  backend-url "http://127.0.0.5/"
  propagate-uri
  monitor-processing-policy terminate-at-first-throttle
  request-attachments strip
  response-attachments strip
  no request-attachments-flow-control
  no response-attachments-flow-control
  root-part-not-first-action process-in-order
  front-attachment-format dynamic
  back-attachment-format dynamic
  mime-front-headers
  mime-back-headers
  stream-output-to-back buffer-until-verification
  stream-output-to-front buffer-until-verification
  max-message-size 0
  no gateway-parser-limits
  element-depth 512
  attribute-count 128
  max-node-size 33554432
  forbid-external-references
  external-references forbid
  max-prefixes 1024
  max-namespaces 1024
  max-local-names 60000
  attachment-byte-count 2000000000
  attachment-package-byte-count 0
  debugger-type internal
  debug-history 250
  no flowcontrol
  soap-schema-url "store:///schemas/soap-envelope.xsd"
  front-timeout 120
  back-timeout 120
  front-persistent-timeout 180
  back-persistent-timeout 180
  no include-content-type-encoding
  http-server-version HTTP/1.1
  persistent-connections
  no loop-detection
  host-rewriting
  no chunked-uploads
  process-http-errors
  http-client-ip-label "X-Client-IP"
  http-global-tranID-label "X-Global-Transaction-ID"
  inorder-mode ""
  wsa-mode sync2sync
  wsa-require-aaa
  wsa-strip-headers
  wsa-default-replyto "http://schemas.xmlsoap.org/ws/2004/08/addressing/role/anonymous"
  wsa-default-faultto "http://schemas.xmlsoap.org/ws/2004/08/addressing/role/anonymous"
  no wsa-force
  wsa-genstyle sync
  wsa-http-async-response-code 204
  wsa-timeout 120
  no wsrm
  wsrm-sequence-expiration 3600
  wsrm-destination-accept-create-sequence
  wsrm-destination-maximum-sequences 400
  no wsrm-destination-inorder
  wsrm-destination-maximum-inorder-queue-length 10
  no wsrm-destination-accept-offers
  no wsrm-request-force
  no wsrm-response-force
  no wsrm-source-request-create-sequence
  no wsrm-source-response-create-sequence
  no wsrm-source-make-offer
  no wsrm-source-sequence-ssl
  wsrm-source-maximum-sequences 400
  wsrm-source-retransmission-interval 10
  wsrm-source-exponential-backoff
  wsrm-source-retransmit-count 4
  wsrm-source-maximum-queue-length 30
  wsrm-source-request-ack-count 1
  wsrm-source-inactivity-close-interval 360
  no force-policy-exec
  rewrite-errors
  delay-errors
  delay-errors-duration 1000
  request-type preprocessed
  response-type preprocessed
  follow-redirects
  no rewrite-location-header
  stylepolicy GenericPolicy
  type static-backend
  no compression
  no enable-compressed-payload-passthrough
  no allow-cache-control
  policy-attachments GenericMPG
  no wsmagent-monitor
  wsmagent-monitor-capture-mode all-messages
  no proxy-http-response
  transaction-timeout 0
exit

%endif%

%if% available "domain-availability"

domain-availability
  admin-state disabled
exit

%endif%

%if% available "nfs-dynamic-mounts"

nfs-dynamic-mounts
  admin-state disabled
  version 3
  transport tcp
  mount-type hard
  no read-only
  rsize 4096
  wsize 4096
  timeo 7
  retrans 3
  inactivity-timeout 900
  mount-timeout 30
exit

%endif%

%if% available "slm-action"

slm-action "notify"
  type log-only
  log-priority warn
exit

slm-action "shape"
  type shape
  log-priority debug
exit

slm-action "throttle"
  type reject
  log-priority debug
exit

%endif%

%if% available "wsm-agent"

wsm-agent
  admin-state enabled
  max-records 3000
  max-memory 64000
  capture-mode faults
  buffer-mode discard
  no mediation-enforcement-metrics
  max-payload-size 0
  push-interval 100
  push-priority normal
exit

%endif%
